<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>divisasCU — Web</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root{
  --brand:#0a2a6a;
  --gradient-start:#1a2f6b;
  --gradient-end:#2c5282;
  --accent:#ff6b35;
  --up:#059669;
  --down:#dc2626;
  --neutral:#6b7280;
  --bg:#f8fafc;
  --card:#fff;
  --muted:#64748b;
  --tab-active-bg:#22c55e;
  --tab-inactive-bg:#e2e8f0;
  --tab-active-color:#fff;
  --tab-inactive-color:#111;
}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Inter,system-ui,Arial;background:var(--bg);color:#111}
header{background:linear-gradient(135deg,var(--gradient-start),var(--gradient-end));color:#fff;padding:14px 12px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;border-bottom:2px solid rgba(255,255,255,0.2)}
.logo{display:flex;align-items:center;gap:10px;font-weight:800}
.logo svg{width:44px;height:44px}
.logo .name{font-size:1.4rem}
.logo .small{font-size:0.75rem;color:#fff}
.controls{display:flex;align-items:center;gap:10px;flex-wrap:wrap;justify-content:flex-end}
.clock-box{text-align:center;margin-right:10px}
.clock-box .title{font-size:0.7rem;color:#fff;text-transform:uppercase;letter-spacing:0.5px}
.clock-box .clock{background:rgba(255,255,255,0.2);padding:6px 12px;border-radius:8px;font-family:'Digital-7 Mono', monospace;font-weight:700;font-size:1rem;color:#fff}

.wrap{max-width:480px;margin:16px auto;padding:0 12px}
.accent-line{height:6px;background:linear-gradient(90deg,var(--gradient-start),var(--accent),var(--gradient-end));border-radius:6px;margin-bottom:14px}

.tabs{display:flex;justify-content:center;gap:12px;padding:12px 0;overflow-x:auto}
.tab{padding:10px 16px;border-radius:12px;font-weight:700;cursor:pointer;flex-shrink:0;font-size:0.9rem;text-align:center;transition:all 0.2s}
.tab.active{background:var(--tab-active-bg);color:var(--tab-active-color);box-shadow:0 4px 10px rgba(0,0,0,0.2)}
.tab.inactive{background:var(--tab-inactive-bg);color:var(--tab-inactive-color)}

.card{background:var(--card);border-radius:16px;box-shadow:0 8px 25px rgba(0,0,0,0.12);overflow:hidden;margin-bottom:18px;transition:all 0.3s}
.card:hover{transform:translateY(-2px)}
.card-head{background:linear-gradient(135deg,var(--gradient-start),var(--gradient-end));color:#fff;padding:12px;font-weight:700;display:flex;justify-content:space-between;align-items:center;font-size:1rem;border-bottom:1px solid rgba(255,255,255,0.2)}
.table-wrap{overflow-x:auto;padding:12px}
table{width:100%;border-collapse:collapse;font-size:0.85rem}
thead th{background:#f8fafc;padding:10px;text-align:left;color:var(--muted);font-weight:700;border-bottom:2px solid #eef2f7}
tbody td{padding:10px;border-bottom:1px solid #f1f5f9;vertical-align:middle}
.currency{display:flex;align-items:center;gap:8px;font-weight:700}
.flag{width:28px;height:18px;object-fit:cover;border-radius:3px}
.rate{font-weight:700;color:var(--brand)}
.trend{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:999px;font-weight:700;font-size:0.75rem}
.trend.up{color:#fff;background:var(--up)}
.trend.down{color:#fff;background:var(--down)}
.trend.neutral{color:#fff;background:var(--neutral)}

#calcAmount{padding:8px;border-radius:8px;border:1px solid #cbd5e1;width:100%;font-weight:700}
#calcCurrency{padding:8px;border-radius:8px;border:1px solid #cbd5e1;width:100%;font-weight:700}
#calcBtn{background:var(--accent);color:#fff;border:none;padding:8px;border-radius:10px;font-weight:700;cursor:pointer;transition:all 0.2s}
#calcBtn:hover{background:#ff914d}
#calcResult{font-weight:700;margin-top:6px;font-size:0.9rem;text-align:center}
footer{text-align:center;color:var(--muted);font-size:0.8rem;margin-top:12px;padding:8px}
@media(max-width:480px){
  .rate{font-size:0.8rem}
  .flag{width:24px;height:16px}
  .tab{padding:8px 12px;font-size:0.8rem}
}
</style>
</head>
<body>

<header>
  <div class="logo">
    <svg viewBox="0 0 64 64"><circle cx="32" cy="32" r="30" fill="#fff"/><path d="M32 14a1.5 1.5 0 0 1 1.5 1.5v3.2c4.9.5 8.3 3.2 8.3 7 0 3.8-3 5.8-8.3 7v6c2.7-.3 4.7-1.3 6.4-2.7a1.5 1.5 0 1 1 2 2.2c-2.4 2-5.3 3.2-8.4 3.6v3.2a1.5 1.5 0 1 1-3 0v-3.2c-5-.5-8.6-3.1-8.6-7.1 0-4.2 3.4-6.1 8.6-7.3v-5.8c-2.3.2-4 .9-5.7 2.1a1.5 1.5 0 0 1-2-2.2c2.4-1.8 5.2-2.8 7.7-3v-3.2A1.5 1.5 0 0 1 32 14Z" fill="#0a2a6a"/></svg>
    <div>
      <div class="name">divisasCU</div>
      <div class="small">MercadoInformal</div>
    </div>
  </div>
  <div class="controls">
    <div class="clock-box">
      <div class="title">Hora</div>
      <div id="clock" class="clock">00:00</div>
    </div>
  </div>
</header>

<div class="wrap">
  <div class="accent-line"></div>

  <div class="tabs">
    <div id="tabTableBtn" class="tab active">Tabla</div>
    <div id="tabChartBtn" class="tab inactive">Gráficos</div>
    <div id="tabCalcBtn" class="tab inactive">Calculadora</div>
  </div>

  <!-- Tabla -->
  <div id="tabTable" class="card">
    <div class="card-head"><i class="fa-solid fa-exchange-alt"></i> CAMBIO DE MONEDAS | TIEMPO REAL</div>
    <div class="table-wrap">
      <table id="ratesTable">
        <thead>
          <tr><th>MONEDA</th><th>CUP</th><th>CAMBIO</th><th>TENDENCIA</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- Charts -->
  <div id="tabChart" class="card" style="display:none">
    <div class="card-head"><i class="fa-solid fa-chart-line"></i> Gráficos</div>
    <canvas id="lineChart" height="220" style="padding:12px"></canvas>
  </div>

  <!-- Calculadora -->
  <div id="tabCalc" class="card" style="display:none">
    <div class="card-head"><i class="fa-solid fa-calculator"></i> Calculadora</div>
    <div style="padding:12px;display:grid;grid-template-columns:1fr 120px 120px;gap:8px;align-items:center">
      <input id="calcAmount" type="number" placeholder="Cantidad" />
      <select id="calcCurrency"></select>
      <button id="calcBtn">Convertir</button>
      <div id="calcResult" style="grid-column:1/4"></div>
    </div>
  </div>

 <!-- Information card -->
  <div class="card">
    <div class="card-head">
      <div><i class="fas fa-info-circle"></i> Información importante</div>
    </div>
    <div style="padding: 1.5rem;">
      <p>Rafe de esta nos volvemos millonarios.</p>
      <p><strong>Nota:</strong> Fvck elToque.</p>
    </div>
  </div>
  
  <footer>© <strong>Darekho</strong> — Última actualización: <span id="lastDate">--/--/----</span></footer>
</div>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

<script>
const defaultRows = [
  { code:"EUR", label:"EUR", flag:"https://flagcdn.com/eu.svg", rate:460.00, delta:+0, trend:"neutral" },
  { code:"USD", label:"USD", flag:"https://flagcdn.com/us.svg", rate:410.00, delta:+0, trend:"neutral" },
  { code:"MLC", label:"MLC", flag:"https://eltoque.com/images/mlc.png", rate:195.00, delta:-1, trend:"down" },
  { code:"CAD", label:"CAD", flag:"https://flagcdn.com/ca.svg", rate:280.00, delta:+0.00, trend:"neutral" },
  { code:"CHF", label:"CHF", flag:"https://flagcdn.com/ch.svg", rate:408.13, delta:+1.51, trend:"up" },
  { code:"MXN", label:"MXN", flag:"https://flagcdn.com/mx.svg", rate:21.22, delta:+0.19, trend:"up" },
  { code:"BRL", label:"BRL", flag:"https://flagcdn.com/br.svg", rate:69.57, delta:+0.77, trend:"up" },
  { code:"CLA", label:"CLA", flag:"https://via.placeholder.com/64/eee/333?text=CLA", rate:402.69, delta:+0.33, trend:"up" },
  { code:"ZELLE", label:"ZELLE", flag:"https://via.placeholder.com/64/7c2eff/fff?text=Z", rate:411.44, delta:+0.19, trend:"up" }
];

let rows = defaultRows;

/* Utils */
const $ = s=>document.querySelector(s);
const fmt = n=>Number(n).toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2});

function tickClock(){
  const now = new Date();
  $("#clock").textContent = now.toLocaleTimeString('es-ES',{hour:'2-digit',minute:'2-digit'});
  $("#lastDate").textContent = now.toLocaleDateString('es-ES',{day:'2-digit',month:'2-digit',year:'numeric'}) + " • " + now.toLocaleTimeString('es-ES',{hour:'2-digit',minute:'2-digit'});
}
setInterval(tickClock,1000); tickClock();

function renderTable(){
  const tbody = $("#ratesTable tbody");
  tbody.innerHTML = "";
  rows.forEach(r=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td><div class="currency"><img class="flag" src="${r.flag}" alt="${r.code}"> ${r.label}</div></td>
      <td class="rate">${fmt(r.rate)}</td>
      <td>${r.delta>=0?"+":""}${fmt(r.delta)}</td>
      <td><div class="trend ${r.trend}"><i class="fa-solid ${r.trend==="up"?"fa-arrow-up":r.trend==="down"?"fa-arrow-down":"fa-equals"}"></i> ${r.trend==="up"?"Subiendo":r.trend==="down"?"Bajando":"Estable"}</div></td>
    `;
    tbody.appendChild(tr);
  });
}

/* Calculadora */
function refreshCalcOptions(){
  const sel = $("#calcCurrency");
  sel.innerHTML="";
  rows.forEach(r=>{
    const opt=document.createElement("option");
    opt.value=r.code; opt.textContent=`${r.code} — ${fmt(r.rate)} CUP`; sel.appendChild(opt);
  });
}
$("#calcBtn").addEventListener("click",()=>{
  const amt=Number($("#calcAmount").value||0);
  const code=$("#calcCurrency").value;
  const r=rows.find(x=>x.code===code);
  if(!r||!amt) return $("#calcResult").textContent="Introduce cantidad y moneda válida";
  $("#calcResult").textContent=`${fmt(amt / r.rate)} ${r.code} (tasa ${fmt(r.rate)} CUP)`;
});

/* Chart */
let lineChart;
function updateChart(){
  const ctx=$("#lineChart").getContext("2d");
  const labels=Array.from({length:7},(_,i)=>{const d=new Date();d.setDate(d.getDate()-(6-i));return d.toLocaleDateString('es-ES',{day:'2-digit',month:'2-digit'});});
  const datasets=rows.slice(0,3).map((r,i)=>{
    const data=labels.map((_,j)=>Number((r.rate*(1+(Math.sin((j+1)*1.2+i)/100))).toFixed(2)));
    return {label:r.code,data,tension:0.3,borderWidth:2};
  });
  if(lineChart) lineChart.destroy();
  lineChart=new Chart(ctx,{type:'line',data:{labels,datasets},options:{responsive:true,plugins:{legend:{position:'bottom'}}}});
}

/* Tabs */
function setActiveTab(tab){
  $("#tabTable").style.display="none";
  $("#tabChart").style.display="none";
  $("#tabCalc").style.display="none";
  $(".tab.active")?.classList.remove("active"); $(".tab.inactive")?.classList.remove("inactive");
  if(tab==="table"){$("#tabTable").style.display="block";$("#tabTableBtn").classList.add("active");$("#tabChartBtn").classList.add("inactive");$("#tabCalcBtn").classList.add("inactive");}
  if(tab==="chart"){$("#tabChart").style.display="block";$("#tabChartBtn").classList.add("active");$("#tabTableBtn").classList.add("inactive");$("#tabCalcBtn").classList.add("inactive");updateChart();}
  if(tab==="calc"){$("#tabCalc").style.display="block";$("#tabCalcBtn").classList.add("active");$("#tabTableBtn").classList.add("inactive");$("#tabChartBtn").classList.add("inactive");refreshCalcOptions();$("#calcResult").textContent="";}
}

$("#tabTableBtn").addEventListener("click",()=>setActiveTab("table"));
$("#tabChartBtn").addEventListener("click",()=>setActiveTab("chart"));
$("#tabCalcBtn").addEventListener("click",()=>setActiveTab("calc"));

renderTable();
refreshCalcOptions();
updateChart();
</script>
</body>
</html>
